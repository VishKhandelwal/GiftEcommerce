{% extends 'base.html' %}
{% block content %}
  <div class="container mt-5">
    <h2 class="text-center">📦 Order Summary</h2>

    {% if request.session.already_redeemed %}
      <div class="alert alert-info text-center mt-3">
        You’ve already redeemed your joining kit. Below is your order summary.
      </div>
    {% endif %}

    {% if order %}
      <div class="mt-4">
        <p><strong>Order ID:</strong> {{ order.id }}</p>
        <p><strong>Status:</strong> {{ order.status|capfirst }}</p>
      </div>

      <h4 class="mt-4">🎁 Your Hamper Includes:</h4>
      <ul class="list-group">
        {% for item in hamper_items %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ item.product.name }}
            <span class="badge bg-primary rounded-pill">Qty: {{ item.quantity }}</span>
          </li>
        {% empty %}
          <li class="list-group-item">No items found in your hamper.</li>
        {% endfor %}
      </ul>

      <div class="text-center mt-4">
        <a href="{% url 'orders:track_order' %}" class="btn btn-info">📍 Track Order</a>
      </div>

    {% else %}
      <div class="alert alert-warning text-center mt-4">
        No order found for this user.
      </div>
    {% endif %}
  </div>
{% endblock %}
