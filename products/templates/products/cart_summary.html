<!-- templates/products/cart_summary.html -->
 {% load cart_extras %}

<div class="cart-summary p-3 border rounded bg-light">
    <h5>Your Cart</h5>
    <ul class="list-group mb-3">
        {% for item in cart_items %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <strong>{{ item.product.name }}</strong><br>
                    ₹{{ item.product.price }} x {{ item.quantity }}
                </div>
                <div class="btn-group" role="group">
                    <button class="btn btn-sm btn-outline-secondary" onclick="updateQuantity({ product_id }, 'decrement')">−</button>
                    <span class="mx-2">{{ item.quantity }}</span>
                    <button class="btn btn-sm btn-outline-secondary" onclick="updateQuantity({ product_id }, 'increment')">+</button>
                </div>
            </li>
        {% endfor %}
    </ul>

    <h4>Subtotal: ₹{{ cart_items|calc_subtotal }}</h4>

    <a href="{% url 'products:magic_created' %}" class="btn btn-success w-100 mt-2">Next Step</a>
</div>
